--- muddleftpd-1.3.13.1/src/ftpd.h.orig	2003-11-02 17:03:27.000000000 +0100
+++ muddleftpd-1.3.13.1/src/ftpd.h	2023-02-06 19:21:25.558260479 +0100
@@ -413,9 +413,9 @@ typedef struct inputline
 
 /* GLOBAL VARIABLES */
 
-CONFIGDATA *config;	  /* configuration data stored here for easy access */
-int inetd;		  /* is process running as inetd */
-int logerrors;		  /* do we log config errors to screen, syslog, or
+extern CONFIGDATA *config;	  /* configuration data stored here for easy access */
+extern int inetd;		  /* is process running as inetd */
+extern int logerrors;		  /* do we log config errors to screen, syslog, or
 			     screen */
 
 /* these prototypes are mostly auto generated by scribe */
--- muddleftpd-1.3.13.1/src/main.c.orig	2003-10-02 21:38:22.000000000 +0200
+++ muddleftpd-1.3.13.1/src/main.c	2023-02-06 19:21:13.611524036 +0100
@@ -17,6 +17,10 @@
 #include "ftpd.h"
 #include "reply.h"
 
+CONFIGDATA *config;
+int inetd;
+int logerrors;
+
 extern int nummalloc;		/* number of areas malloced at once */
 int signumber;
 pid_t *deadlist;
--- muddleftpd-1.3.13.1/src/ftpwho.c.orig	2003-10-02 21:38:22.000000000 +0200
+++ muddleftpd-1.3.13.1/src/ftpwho.c	2023-02-06 19:28:36.610776800 +0100
@@ -17,6 +17,8 @@
 
 #include "ftpd.h"
 
+int inetd;
+
 int lockfd;
 SHRMEMHEADER *shrmemptr;
 
--- muddleftpd-1.3.13.1/src/mudlogd.c.orig	2003-10-02 21:38:23.000000000 +0200
+++ muddleftpd-1.3.13.1/src/mudlogd.c	2023-02-06 19:29:26.197732888 +0100
@@ -21,6 +21,8 @@
 
 int signumber;
 
+int inetd;
+
 void sighandler(int signum)
 {
 	signumber = signum;
--- muddleftpd-1.3.13.1/src/ratiotool.c.orig	2003-10-02 21:38:23.000000000 +0200
+++ muddleftpd-1.3.13.1/src/ratiotool.c	2023-02-06 19:29:00.534249766 +0100
@@ -26,6 +26,8 @@
 #define RELATIVE TRUE
 #define ABSOLUTE FALSE
 
+int inetd;
+
 int lockarea(int fd, int pos, int len, int locktype, int do_wait)
 {
 	struct flock lock;
